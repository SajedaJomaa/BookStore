{"ast":null,"code":"// import React, { useState } from 'react';\n// import Modal from './Modal.js';\n// import { getAuthToken } from '../util/auth';\n\n// export default function BookInfo({ book }) {\n//     const [showModal, setShowModal] = useState(false);\n//     const [rating, setRating] = useState(book.volumeInfo.averageRating || 0);\n//     const [hover, setHover] = useState(book.volumeInfo.averageRating || 0);\n//     const [isLoading, setIsLoading] = useState(false);\n//     const [isBuying, setIsBuying] = useState(false);\n\n//     const handleRatingChange = (value) => {\n//         setRating(value);\n//     };\n\n//     const openModal = () => {\n//         setShowModal(true);\n//     };\n\n//     const closeModal = () => {\n//         setShowModal(false);\n//     };\n\n//     const handleBuyBook = async () => {\n//         setIsLoading(true);\n//         const token = getAuthToken();\n//         try {\n//             const response = await fetch('http://localhost:8080/events/', {\n//                 method: 'POST',\n//                 headers: {\n//                     'Authorization': 'Bearer ' + token\n//                 },\n//                 body: JSON.stringify({\n//                     id: book.id,\n//                 }),\n//             });\n\n//             if (response.ok) {\n//                 setIsBuying(true);\n//                 setTimeout(() => {\n//                     setIsBuying(false);\n//                     closeModal();\n//                 }, 1000);\n//             } else {\n//                 throw new Error('Failed to buy the book');\n//             }\n//         } catch (error) {\n//             console.error(\"Error buying the book:\", error);\n//         } finally {\n//             setIsLoading(false);\n//         }\n//     };\n\n//     const { volumeInfo } = book;\n//     const { title, description, authors, pageCount, imageLinks } = volumeInfo;\n\n//     return (\n//         <section className='book-detail'>\n//             <div className='book-info'>\n//                 {imageLinks && imageLinks.thumbnail && (\n//                     <img src={imageLinks.thumbnail} alt={title} />\n//                 )}\n//                 <div className='book-data'>\n//                     <h1>{title}</h1>\n//                     <p>Author: {authors ? authors.join(', ') : 'Unknown'}</p>\n//                     <p>Page Count: {pageCount}</p>\n\n//                     <p>Rate this book:</p>\n//                     <div className=\"star-rating\">\n//                         {[...Array(5)].map((star, index) => {\n//                             index += 1;\n//                             return (\n//                                 <label key={index}>\n//                                     <input\n//                                         type=\"radio\"\n//                                         name=\"rating\"\n//                                         value={index}\n//                                         onClick={() => handleRatingChange(index)}\n//                                     />\n//                                     <i\n//                                         className={index <= (hover || rating) ? \"fas fa-star\" : \"far fa-star\"}\n//                                         onMouseEnter={() => setHover(index)}\n//                                         onMouseLeave={() => setHover(rating)}\n//                                     ></i>\n//                                 </label>\n//                             );\n//                         })}\n//                     </div>\n//                     <div className='book-detail-button'>\n//                         <button onClick={openModal} className='book-button-buy'>Buy</button>\n\n//                         <input type=\"checkbox\" id=\"like-checkbox\" className=\"like-checkbox\" />\n//                         <label htmlFor=\"like-checkbox\" className=\"button-like\">\n//                             <i className=\"fa fa-heart\"></i>\n//                             <span>Like</span>\n//                         </label>\n//                     </div>\n//                 </div>\n//             </div>\n//             <div className='book-description'>\n//                 <p>{description}</p>\n//             </div>\n\n//             <Modal open={showModal} onClose={closeModal}>\n//                 <div className=\"modal-content\">\n//                     <div className=\"modal-header\">\n//                         <h2>Confirm Purchase</h2>\n//                     </div>\n//                     <div className=\"modal-body\">\n//                         <p>Are you sure you want to buy this book?</p>\n//                     </div>\n//                     <div className=\"modal-footer\">\n//                         <button onClick={handleBuyBook} disabled={isLoading || isBuying}>\n//                             {isLoading ? <div className=\"spinner\"></div> : <p>Yes</p>}\n//                         </button>\n//                         <button onClick={closeModal}><p>No</p></button>\n//                     </div>\n//                 </div>\n//             </Modal>\n//         </section>\n//     );\n// }","map":{"version":3,"names":[],"sources":["C:/Users/Msys/OneDrive/Desktop/tryAgain/frontend/src/components/BookInfo.js"],"sourcesContent":["// import React, { useState } from 'react';\r\n// import Modal from './Modal.js';\r\n// import { getAuthToken } from '../util/auth';\r\n\r\n// export default function BookInfo({ book }) {\r\n//     const [showModal, setShowModal] = useState(false);\r\n//     const [rating, setRating] = useState(book.volumeInfo.averageRating || 0);\r\n//     const [hover, setHover] = useState(book.volumeInfo.averageRating || 0);\r\n//     const [isLoading, setIsLoading] = useState(false);\r\n//     const [isBuying, setIsBuying] = useState(false);\r\n\r\n//     const handleRatingChange = (value) => {\r\n//         setRating(value);\r\n//     };\r\n\r\n//     const openModal = () => {\r\n//         setShowModal(true);\r\n//     };\r\n\r\n//     const closeModal = () => {\r\n//         setShowModal(false);\r\n//     };\r\n\r\n//     const handleBuyBook = async () => {\r\n//         setIsLoading(true);\r\n//         const token = getAuthToken();\r\n//         try {\r\n//             const response = await fetch('http://localhost:8080/events/', {\r\n//                 method: 'POST',\r\n//                 headers: {\r\n//                     'Authorization': 'Bearer ' + token\r\n//                 },\r\n//                 body: JSON.stringify({\r\n//                     id: book.id,\r\n//                 }),\r\n//             });\r\n\r\n//             if (response.ok) {\r\n//                 setIsBuying(true);\r\n//                 setTimeout(() => {\r\n//                     setIsBuying(false);\r\n//                     closeModal();\r\n//                 }, 1000);\r\n//             } else {\r\n//                 throw new Error('Failed to buy the book');\r\n//             }\r\n//         } catch (error) {\r\n//             console.error(\"Error buying the book:\", error);\r\n//         } finally {\r\n//             setIsLoading(false);\r\n//         }\r\n//     };\r\n\r\n//     const { volumeInfo } = book;\r\n//     const { title, description, authors, pageCount, imageLinks } = volumeInfo;\r\n\r\n//     return (\r\n//         <section className='book-detail'>\r\n//             <div className='book-info'>\r\n//                 {imageLinks && imageLinks.thumbnail && (\r\n//                     <img src={imageLinks.thumbnail} alt={title} />\r\n//                 )}\r\n//                 <div className='book-data'>\r\n//                     <h1>{title}</h1>\r\n//                     <p>Author: {authors ? authors.join(', ') : 'Unknown'}</p>\r\n//                     <p>Page Count: {pageCount}</p>\r\n\r\n//                     <p>Rate this book:</p>\r\n//                     <div className=\"star-rating\">\r\n//                         {[...Array(5)].map((star, index) => {\r\n//                             index += 1;\r\n//                             return (\r\n//                                 <label key={index}>\r\n//                                     <input\r\n//                                         type=\"radio\"\r\n//                                         name=\"rating\"\r\n//                                         value={index}\r\n//                                         onClick={() => handleRatingChange(index)}\r\n//                                     />\r\n//                                     <i\r\n//                                         className={index <= (hover || rating) ? \"fas fa-star\" : \"far fa-star\"}\r\n//                                         onMouseEnter={() => setHover(index)}\r\n//                                         onMouseLeave={() => setHover(rating)}\r\n//                                     ></i>\r\n//                                 </label>\r\n//                             );\r\n//                         })}\r\n//                     </div>\r\n//                     <div className='book-detail-button'>\r\n//                         <button onClick={openModal} className='book-button-buy'>Buy</button>\r\n\r\n//                         <input type=\"checkbox\" id=\"like-checkbox\" className=\"like-checkbox\" />\r\n//                         <label htmlFor=\"like-checkbox\" className=\"button-like\">\r\n//                             <i className=\"fa fa-heart\"></i>\r\n//                             <span>Like</span>\r\n//                         </label>\r\n//                     </div>\r\n//                 </div>\r\n//             </div>\r\n//             <div className='book-description'>\r\n//                 <p>{description}</p>\r\n//             </div>\r\n\r\n//             <Modal open={showModal} onClose={closeModal}>\r\n//                 <div className=\"modal-content\">\r\n//                     <div className=\"modal-header\">\r\n//                         <h2>Confirm Purchase</h2>\r\n//                     </div>\r\n//                     <div className=\"modal-body\">\r\n//                         <p>Are you sure you want to buy this book?</p>\r\n//                     </div>\r\n//                     <div className=\"modal-footer\">\r\n//                         <button onClick={handleBuyBook} disabled={isLoading || isBuying}>\r\n//                             {isLoading ? <div className=\"spinner\"></div> : <p>Yes</p>}\r\n//                         </button>\r\n//                         <button onClick={closeModal}><p>No</p></button>\r\n//                     </div>\r\n//                 </div>\r\n//             </Modal>\r\n//         </section>\r\n//     );\r\n// }\r\n"],"mappings":"AAAA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}